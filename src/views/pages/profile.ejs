<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Profile - mycontest</title>
    <%- include("../basic/head.ejs") %>
  </head>
  <body>
    <%- include("../basic/navbar.ejs", { data: { user_id: user ? user.user_id : null, full_name: user ? (user.full_name || user.username) : null } }) %>

    <main class="container py-4">
      <div class="row g-3">
        <div class="col-lg-4">
          <div class="problem-shell p-3">
            <h5 class="fw-bold mb-1"><%= stats.full_name || stats.username %></h5>
            <div class="text-muted">@<%= stats.username %></div>
            <div class="mt-3 text-muted small">
              Role: <span class="text-dark"><%= stats.role %></span><br />
              Subscription: <span class="text-dark"><%= stats.subscription %></span>
            </div>
          </div>
        </div>
        <div class="col-lg-8">
          <div class="row g-3">
            <div class="col-md-4">
              <div class="problem-shell p-3 text-center">
                <div class="fs-4 fw-bold"><%= stats.total_score || 0 %></div>
                <div class="text-muted small">Total Score</div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="problem-shell p-3 text-center">
                <div class="fs-4 fw-bold"><%= stats.solved_count || 0 %></div>
                <div class="text-muted small">Problems Solved</div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="problem-shell p-3 text-center">
                <div class="fs-4 fw-bold"><%= stats.total_submissions || 0 %></div>
                <div class="text-muted small">Submissions</div>
              </div>
            </div>
          </div>
          <div class="problem-shell p-3 mt-3">
            <div class="text-muted text-center">Your recent submissions will appear here.</div>
          </div>
        </div>
      </div>
    </main>

    <%- include("../basic/footer.ejs") %>
  </body>
</html>
